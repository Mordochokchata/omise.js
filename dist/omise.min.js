!function(r,t){"use strict";var e={},o={};o._keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o._utf8_encode=function(r){r=r.replace(/\r\n/g,"\n");for(var t="",e=0;e<r.length;e++){var o=r.charCodeAt(e);128>o?t+=String.fromCharCode(o):o>127&&2048>o?(t+=String.fromCharCode(o>>6|192),t+=String.fromCharCode(63&o|128)):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128),t+=String.fromCharCode(63&o|128))}return t},o.encode=function(r){var t,e,n,a,c,i,u,f="",d=0;for(r=o._utf8_encode(r);d<r.length;)t=r.charCodeAt(d++),e=r.charCodeAt(d++),n=r.charCodeAt(d++),a=t>>2,c=(3&t)<<4|e>>4,i=(15&e)<<2|n>>6,u=63&n,isNaN(e)?i=u=64:isNaN(n)&&(u=64),f=f+o._keyStr.charAt(a)+o._keyStr.charAt(c)+o._keyStr.charAt(i)+o._keyStr.charAt(u);return f};var n=function(r){return o.encode(r)};e.config={},e.config.defaultHost="vault.omise.co",e.config.protocol="https://",e.url=function(r){return e.config.protocol+e.config.defaultHost+r},e.setPublicKey=function(r){return e.publicKey=r,e.authorizationHeader="Basic "+n(r+":"),e.publicKey},e.createToken=function(t,o,n){var a={};a[t]=o,r.ajax(e.url("/tokens"),{type:"POST",dataType:"json",data:a,beforeSend:function(r){r.setRequestHeader("Authorization",e.authorizationHeader)},complete:function(r){n(r.status,r.responseJSON)}})},t.Omise=e}(jQuery,window);
